## 3.3.1-主存储器和CPU连接

### 单芯片连接
暴露接口：数据总线、片选线、读写控制线、地址总线
![](https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/20230520013708-4f0e1f.png)

位扩展法：单块存储芯片字长 < 数据总线宽度

字扩展法：想要扩展主存字数



现代计算机中MDR和MAR被集成到CPU内部

![image-20230520014038808](https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/image-20230520014038808-f59ef0.png)



#### 存储器芯片输入输出信号

![image-20230520014505940](https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/image-20230520014505940-14f46a.png)

### 多芯片连接

#### 位扩展法

单块芯片连接情况：

存储字长：1bit

![image-20230520014652082](https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/image-20230520014652082-4e24c5.png)

解决办法：

再加一块芯片，现在可以同时读写两个bit

![image-20230520014810698](https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/image-20230520014810698-fc2393.png)

最多可以增加到8bit

![image-20230520014849619](https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/image-20230520014849619-e0b98a.png)



#### 字扩展法

CPU的地址信息没有被完全利用到

![image-20230520015019288](https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/image-20230520015019288-5e7bf7.png)

| 线选法                 | 译码片选法                |
| ---------------------- | ------------------------- |
| n条线 对应 n个选片信号 | n条线 对应 2^n 个选片信号 |
| 电路简单               | 电路复杂                  |
| 地址空间不连续         | 地址空间可连续            |



##### 线选法

使用A13和A14作为片选线，但是不能同时为1，否则地址总线会冲突

![image-20230520015428474](https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/image-20230520015428474-45301c.png)





##### 片选法

增加一个非门

![1-2译码器](https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/image-20230520015658113-cbee8a.png)

以上结构其实是一个**1-2译码器**，一个bit的01信号输入，两个bit的信息输出

此外还有**3-8译码器**，3个bit输入，2^3=8个bit输出<img src="https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/image-20230520015933443-4b2572.png" alt="image-20230520015933443" style="zoom:33%;" />

采用**2-4**译码器扩展主存内存容量：

![采用2-4译码器扩展主存内存容量](https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/image-20230520020130668-51480c.png)

图中每个芯片都会接受CPU低13位信号

#### 字位扩展发

就是字扩展和位扩展同时执行

![image-20230520020802533](https://pic-1257412153.cos.ap-nanjing.myqcloud.com/images/2023/05/20/image-20230520020802533-ed4434.png)





## 3.3.2-主存优化技术

### 双端口RAM



### 多模块存储器

