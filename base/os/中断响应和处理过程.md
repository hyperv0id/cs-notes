---
tags:
  - os/中断
created: 2023-03-16T00:43:34 (UTC +08:00)
---

## 响应过程

### 中断响应（[硬件实现](中断隐指令.md#工作过程)）

1. **关中断**：CPU在响应中断时，发出中断响应信号NTA,同时内部自动地关中断，以禁止接受其他的中断请求。
2. **保存断点**：把断，点处的指令指针P值和CS值压入堆栈，以使中断处理完后能正确地返回主程序断点。
3. **识别中断源**：CPU要对中断请求进行处理，必须找到相应的中断服务 程序的入口地址，这就是中断的识别。
### 中断处理（软件实现）

4. **保护现场**：为了不使中断服务程序的运行影响主程序的状态，必须把断，点处有关寄存器（指在中断服务程序中要使用的寄存器)的内容以及标志寄存器的状态压入堆栈保护。
5. **执行中断服务程序**：在执行中断服务程序中，可在适当时刻重新开放中断，以便允许响应较高优先级的中断。
6. **恢复现场并返回**：即把中断服务程序执行前压入堆栈的现场信息弹回原寄存器，然后执行中断返回指令，从而返回主程序继续运行。